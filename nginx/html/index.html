<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Linux Quiz</title>
</head>
<body>
    <h1>🎉 퀴즈 포털에 오신 걸 환영합니다!</h1>
    <p>이 사이트는 Nginx 컨테이너에서 제공됩니다.</p>

    <div id="quiz-box"></div>

  <script>
    function loadQuiz() {
      fetch('http://localhost:5001/quiz?category=Basic')
        .then(response => {
          if (!response.ok) throw new Error("퀴즈를 불러오는 데 실패했습니다.");
          return response.json();
        })
        .then(data => {
          const box = document.getElementById("quiz-box");
          box.innerHTML = "";
          data.forEach((q, index) => {
            const questionDiv = document.createElement("div");
            
		// 보기 출력
            let choicesHtml = "<ul>";
            for (const [label, value] of Object.entries(q.choices)) {
              choicesHtml += `<li>${label}: ${value}</li>`;
            }
            choicesHtml += "</ul>";

		  // HTML 구성
            questionDiv.innerHTML = `
              <p><strong>${q.question_num}</strong></p>
              ${choicesHtml}
              <details>
                <summary>정답 보기</summary>
                <p>${q.answer}</p>
              </details>
              <hr>
            `;

            box.appendChild(questionDiv);
          });
        })
        .catch(err => {
          alert(err.message);
        });
    }

     // 자동 실행 추가
    window.onload = loadQuiz;
  </script>
</body>
</html>

